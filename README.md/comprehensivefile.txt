Readme comprehensive 

# Suraksha 360 - Government Safety Application

## ğŸ›¡ï¸ Complete Offline-First Safety Application Prototype

A comprehensive government safety application with **citizen reporting** and **police dashboard** capabilities. Built with offline-first architecture and designed for real-world deployment.

---

## âš ï¸ GOVERNMENT AUTHORIZATION NOTICE

This is a **TECHNICAL PROTOTYPE** demonstrating system feasibility. Real deployment requires:

- âœ… **UIDAI Aadhaar API Integration** (Government Authorization Required)
- âœ… **Telecom SMS Gateway Access** (Carrier Authorization Required)
- âœ… **System-Level App Installation** (OS-Level Permissions)
- âœ… **Security Clearance** from Appropriate Government Bodies

---

## ğŸš€ Features

### **Citizen App**
1. âœ… **Anonymous Crime Reporting** with voice recording
2. âœ… **One-Tap SOS Emergency System**
3. âœ… **Risk Zone Detection & Alerts**
4. âœ… **Automatic Evidence Capture** (Audio/Video)
5. âœ… **Offline-First Architecture**
6. âœ… **Aadhaar-Based Authentication** (Mocked)
7. âœ… **Emergency Contact SMS Alerts** (Simulated)

### **Admin/Police Dashboard**
1. âœ… **Real-Time SOS Monitoring**
2. âœ… **Anonymous Crime Reports Viewer**
3. âœ… **Risk Zone Management**
4. âœ… **Evidence Management System**
5. âœ… **Crime Analytics Dashboard** with charts
6. âœ… **Area-Wise Crime Density Analysis**

---

## ğŸ“ Project Structure

```
suraksha-360/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js           # Main Express server
â”‚   â”œâ”€â”€ db.js               # SQLite database setup
â”‚   â”œâ”€â”€ package.json        # Dependencies
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js         # Authentication (Aadhaar mock)
â”‚   â”‚   â”œâ”€â”€ sos.js          # SOS emergency endpoints
â”‚   â”‚   â”œâ”€â”€ reports.js      # Crime reports
â”‚   â”‚   â”œâ”€â”€ riskzones.js    # Risk zone management
â”‚   â”‚   â””â”€â”€ analytics.js    # Analytics and stats
â”‚   â””â”€â”€ middleware/
â”‚       â””â”€â”€ auth.js         # JWT authentication
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ citizen/            # Citizen-facing app
â”‚   â”‚   â”œâ”€â”€ login.html
â”‚   â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”‚   â”œâ”€â”€ sos.html
â”‚   â”‚   â”œâ”€â”€ report.html
â”‚   â”‚   â”œâ”€â”€ css/style.css
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”‚       â”œâ”€â”€ offline.js
â”‚   â”‚       â””â”€â”€ geolocation.js
â”‚   â””â”€â”€ admin/              # Police/Admin dashboard
â”‚       â”œâ”€â”€ login.html
â”‚       â”œâ”€â”€ dashboard.html
â”‚       â”œâ”€â”€ sos-monitor.html
â”‚       â”œâ”€â”€ reports.html
â”‚       â”œâ”€â”€ riskzones.html
â”‚       â”œâ”€â”€ analytics.html
â”‚       â””â”€â”€ css/admin.css
â””â”€â”€ README.md
```

---

## ğŸ”§ Installation & Setup

### **Prerequisites**
- Node.js (v14 or higher)
- npm or yarn
- Modern web browser with geolocation support

### **Step 1: Clone/Download the Project**
```bash
cd suraksha-360
```

### **Step 2: Install Backend Dependencies**
```bash
cd backend
npm install
```

This will install:
- express (Web server)
- sqlite3 (Database)
- bcryptjs (Password hashing)
- jsonwebtoken (Authentication)
- multer (File uploads)
- cors (Cross-origin requests)

### **Step 3: Start the Backend Server**
```bash
npm start
```

The server will start on `http://localhost:3000`

You should see:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ›¡ï¸  SURAKSHA 360 - SERVER STARTED             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ Server running on: http://localhost:3000
ğŸ“± Citizen App: http://localhost:3000/citizen/login.html
ğŸ‘® Admin Dashboard: http://localhost:3000/admin/login.html
```

### **Step 4: Access the Applications**

**Option 1: Through Main Portal**
- Open browser: `http://localhost:3000`
- Choose Citizen or Admin login

**Option 2: Direct Access**
- Citizen App: `http://localhost:3000/citizen/login.html`
- Admin Dashboard: `http://localhost:3000/admin/login.html`

---

## ğŸ‘¤ Test Credentials

### **Admin/Police Dashboard**
- **Aadhaar:** 999999999999
- **Password:** admin123

### **Citizen Registration**
- Use **any 12-digit Aadhaar number** (e.g., 123456789012)
- **OTP:** 123456 (works for all registrations)
- Set your own password during registration

---

## ğŸ¯ Usage Guide

### **For Citizens**

1. **Login/Register**
   - Enter 12-digit Aadhaar
   - Receive OTP (use: 123456)
   - Complete registration if new user
   - Add emergency contacts

2. **Report Crime Anonymously**
   - Go to "Report Crime"
   - Select crime type
   - Record voice description (optional)
   - Location auto-captured
   - Submit anonymously

3. **Trigger SOS Emergency**
   - Go to "SOS Emergency"
   - Press the red SOS button
   - Location sent to police
   - SMS sent to emergency contacts
   - Audio recording starts automatically
   - Video can be enabled if needed

4. **Risk Zone Alerts**
   - Automatic detection when entering high-risk areas
   - Popup warning displayed
   - Option to activate SOS mode

### **For Police/Admin**

1. **Login**
   - Use admin credentials
   - Access full dashboard

2. **Monitor Active SOS**
   - View real-time emergency alerts
   - See location and risk zone info
   - Access evidence (audio/video)
   - Mark as resolved

3. **Review Crime Reports**
   - View anonymous reports
   - Listen to voice recordings
   - See crime locations
   - Identity remains protected

4. **Manage Risk Zones**
   - Create new risk zones
   - Define radius and risk level
   - Edit or deactivate zones

5. **View Analytics**
   - Crime type distribution (pie charts)
   - Area-wise crime density
   - Time-based trends
   - Response time analysis

---

## ğŸ”’ Security Features

1. **Anonymous Reporting**
   - Citizen identity never exposed to police
   - UUID-based anonymous IDs
   - No personally identifiable information in reports

2. **JWT Authentication**
   - Secure token-based auth
   - 7-day token expiry
   - Role-based access control

3. **Evidence Integrity**
   - Automatic timestamp on all recordings
   - Location-tagged evidence
   - Read-only access for police

4. **Offline Security**
   - Local encryption (production ready)
   - Secure sync when online
   - Data integrity validation

---

## ğŸ“Š Database Schema

The application uses SQLite with the following tables:

- **users** - Citizen and admin accounts
- **crime_reports** - Anonymous crime submissions
- **sos_alerts** - Emergency alerts
- **evidence** - Audio/video recordings
- **risk_zones** - High-risk area definitions
- **sms_logs** - SMS notification tracking

---

## ğŸŒ API Endpoints

### **Authentication**
- `POST /api/auth/send-otp` - Send Aadhaar OTP
- `POST /api/auth/verify-otp` - Verify OTP
- `POST /api/auth/register` - Register new user
- `POST /api/auth/admin-login` - Admin login

### **SOS**
- `POST /api/sos/trigger` - Trigger emergency
- `POST /api/sos/evidence/:sosId` - Upload evidence
- `GET /api/sos/active` - Get active alerts (admin)
- `PUT /api/sos/:sosId/resolve` - Resolve alert (admin)

### **Crime Reports**
- `POST /api/reports/submit` - Submit anonymous report
- `GET /api/reports/all` - Get all reports (admin)
- `GET /api/reports/voice/:reportId` - Get voice recording (admin)

### **Risk Zones**
- `POST /api/riskzones/create` - Create risk zone (admin)
- `GET /api/riskzones/all` - Get all risk zones
- `POST /api/riskzones/check` - Check if in risk zone

### **Analytics**
- `GET /api/analytics/stats` - Dashboard statistics
- `GET /api/analytics/crime-types` - Crime distribution
- `GET /api/analytics/area-density` - Area-wise crimes
- `GET /api/analytics/time-trends` - Time-based trends

---

## ğŸ”„ Offline Functionality

### **How It Works**

1. **Local Storage**
   - Reports stored in browser localStorage
   - Automatic sync when connection restored

2. **Sync Queue**
   - Failed operations queued
   - Retry mechanism on reconnection

3. **SMS Fallback**
   - SMS-based alerts work offline
   - No internet required for emergency

### **Testing Offline Mode**

1. Submit a crime report
2. Disconnect internet
3. Submit another report
4. Reconnect internet
5. Reports auto-sync to server

---

## ğŸ¨ UI/UX Features

- âœ… **Responsive Design** - Works on mobile, tablet, desktop
- âœ… **Material Design** - Clean, modern interface
- âœ… **Real-Time Updates** - Auto-refresh every 30 seconds
- âœ… **Visual Feedback** - Loading states, success/error alerts
- âœ… **Accessibility** - Keyboard navigation, screen reader support

---

## ğŸš§ Production Deployment Requirements

### **Real Aadhaar Integration**
```javascript
// Replace mock OTP with UIDAI API
const uidaiResponse = await fetch('https://uidai.gov.in/api/send-otp', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer GOVERNMENT_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ aadhaar: aadhaarNumber })
});
```

### **Real SMS Integration**
```javascript
// Replace mock SMS with telecom API
const smsResponse = await fetch('https://telecom-api.gov.in/send-sms', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer TELECOM_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    recipients: emergencyContacts,
    message: sosMessage
  })
});
```

### **System-Level Installation**
- Requires manufacturer partnership
- Pre-installed on government devices
- Cannot be uninstalled by users

### **Security Hardening**
- HTTPS only (SSL/TLS)
- Database encryption
- API rate limiting
- Input sanitization
- CORS restrictions

---

## ğŸ› Troubleshooting

### **Server won't start**
```bash
# Check if port 3000 is in use
lsof -i :3000

# Kill existing process
kill -9 <PID>

# Restart server
npm start
```

### **Database errors**
```bash
# Delete and recreate database
rm backend/suraksha360.db
npm start
```

### **Location not working**
- Enable location services in browser
- Allow location permissions
- Use HTTPS in production

### **File uploads failing**
- Check file size (max 50MB)
- Verify MIME types
- Check server disk space

---

## ğŸ“ License & Legal

This is a **prototype for demonstration purposes**.

**For Production Use:**
- Obtain government authorization
- Comply with IT Act 2000
- Follow Aadhaar Act 2016
- Ensure GDPR/data protection compliance
- Get telecom carrier agreements

---

## ğŸ‘¥ Support & Contact

For technical issues or questions:
- Review this README
- Check browser console for errors
- Verify backend logs
- Test with provided credentials

---

## ğŸ‰ Success Criteria

Your installation is successful if:

âœ… Backend server starts on port 3000  
âœ… Admin can login with test credentials  
âœ… Citizen can register and login  
âœ… SOS can be triggered  
âœ… Crime reports can be submitted  
âœ… Dashboard shows statistics  
âœ… Risk zones can be created  
âœ… Analytics charts display  

---

**Built for Government of India - Demonstrating Technical Feasibility**

ğŸ›¡ï¸ **Suraksha 360** - Your Safety, Our Priority